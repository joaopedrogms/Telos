const data = [ { "orgao": "Polícia Civil", "data":
"01/01/2024", "valor": 5500.00, "status":
"sucesso" }, { "orgao": "Polícia Rodoviária Federal", "data": "02/01/2024", "valor": 6000.00,
"status": "falha", "motivo": "Problemas técnicos"
}, { "orgao": "Polícia Militar", "data":
"03/01/2024", "valor": 4500.00, "status":
"sucesso" }, { "orgao": "Corpo de Bombeiros",
"data": "04/01/2024", "valor": 7000.00, "status":
"sucesso" }, { "orgao": "Guarda Municipal",
"data": "05/01/2024", "valor": 3500.00, "status":
"falha", "motivo": "Documentação incompleta" }, {
"orgao": "Receita Federal", "data": "06/01/2024",
"valor": 8000.00, "status": "sucesso" }, {
"orgao": "Ministério Público", "data": "07/01/2024",
"valor": 9000.00, "status": "falha", "motivo":
"Erro no sistema" }, { "orgao": "Defesa Civil",
"data": "08/01/2024", "valor": 4000.00, "status":
"sucesso" }, { "orgao": "Detran", "data":
"09/01/2024", "valor": 5000.00, "status":
"sucesso" }, { "orgao": "Polícia Federal",
"data": "10/01/2024", "valor": 6500.00, "status":
"falha", "motivo": "Falta de recursos" }, {
"orgao": "Ibama", "data": "11/01/2024", "valor":
5500.00, "status": "sucesso" }, { "orgao":
"Anvisa", "data": "12/01/2024", "valor":
6000.00, "status": "sucesso" }, { "orgao":
"Inmetro", "data": "13/01/2024", "valor":
3000.00, "status": "falha", "motivo": "Dados incorretos" }, { "orgao": "Cetesb", "data":
"14/01/2024", "valor": 7000.00, "status":
"sucesso" }, { "orgao": "Susep", "data":
"15/01/2024", "valor": 8000.00, "status":
"falha", "motivo": "Problemas técnicos" }, {
"orgao": "Polícia Civil", "data": "16/01/2024",
"valor": 5200.00, "status": "sucesso" }, {
"orgao": "Polícia Rodoviária Federal", "data":
"17/01/2024", "valor": 6100.00, "status":
"falha", "motivo": "Erro humano" }, {
"orgao": "Polícia Militar", "data": "18/01/2024",
"valor": 4600.00, "status": "sucesso" }, {
"orgao": "Corpo de Bombeiros", "data": "19/01/2024",
"valor": 7100.00, "status": "sucesso" }, {
"orgao": "Guarda Municipal", "data": "20/01/2024",
"valor": 3600.00, "status": "falha", "motivo":
"Sistema fora do ar" }, { "orgao": "Receita Federal", "data": "21/01/2024", "valor": 8100.00,
"status": "sucesso" }, { "orgao": "Ministério Público", "data": "22/01/2024", "valor": 9100.00,
"status": "falha", "motivo": "Recursos insuficientes"
}, { "orgao": "Defesa Civil", "data":
"23/01/2024", "valor": 4100.00, "status":
"sucesso" }, { "orgao": "Detran", "data":
"24/01/2024", "valor": 5100.00, "status":
"sucesso" }, { "orgao": "Polícia Federal",
"data": "25/01/2024", "valor": 6600.00, "status":
"falha", "motivo": "Problemas técnicos" }, {
"orgao": "Ibama", "data": "26/01/2024", "valor":
5600.00, "status": "sucesso" }, { "orgao":
"Anvisa", "data": "27/01/2024", "valor":
6100.00, "status": "sucesso" }, { "orgao":
"Inmetro", "data": "28/01/2024", "valor":
3100.00, "status": "falha", "motivo": "Dados incorretos" }, { "orgao": "Cetesb", "data":
"29/01/2024", "valor": 7100.00, "status":
"sucesso" }, { "orgao": "Susep", "data":
"30/01/2024", "valor": 8100.00, "status":
"falha", "motivo": "Problemas técnicos" }, {
"orgao": "Polícia Civil", "data": "31/01/2024",
"valor": 5300.00, "status": "sucesso" }, {
"orgao": "Polícia Rodoviária Federal", "data":
"01/01/2024", "valor": 6200.00, "status":
"falha", "motivo": "Erro humano" }, {
"orgao": "Polícia Militar", "data": "02/01/2024",
"valor": 4700.00, "status": "sucesso" }, {
"orgao": "Corpo de Bombeiros", "data": "03/01/2024",
"valor": 7200.00, "status": "sucesso" }, {
"orgao": "Guarda Municipal", "data": "04/01/2024",
"valor": 3700.00, "status": "falha", "motivo":
"Sistema fora do ar" }, { "orgao": "Receita Federal", "data": "05/01/2024", "valor": 8200.00,
"status": "sucesso" }, { "orgao": "Ministério Público", "data": "06/01/2024", "valor": 9200.00,
"status": "falha", "motivo": "Recursos insuficientes"
}, { "orgao": "Defesa Civil", "data":
"07/01/2024", "valor": 4200.00, "status":
"sucesso" }, { "orgao": "Detran", "data":
"08/01/2024", "valor": 5200.00, "status":
"sucesso" }, { "orgao": "Polícia Federal",
"data": "09/01/2024", "valor": 6700.00, "status":
"falha", "motivo": "Problemas técnicos" }, {
"orgao": "Ibama", "data": "10/01/2024", "valor":
5700.00, "status": "sucesso" }, { 
"orgao": "Anvisa", "data": "11/01/2024",
"valor": 6200.00, "status": "sucesso" }, {
"orgao": "Inmetro", "data": "12/01/2024",
"valor": 3200.00, "status": "falha", "motivo":
"Dados incorretos" }, { "orgao": "Cetesb",
"data": "13/01/2024", "valor": 7200.00, "status":
"sucesso" }, { "orgao": "Susep", "data":
"14/01/2024", "valor": 8200.00, "status":
"falha", "motivo": "Problemas técnicos" }, {
"orgao": "Polícia Civil", "data": "15/01/2024",
"valor": 5400.00, "status": "sucesso" }, {
"orgao": "Polícia Rodoviária Federal", "data":
"16/01/2024", "valor": 6300.00, "status":
"falha", "motivo": "Erro humano" }, {
"orgao": "Polícia Militar", "data": "17/01/2024",
"valor": 4800.00, "status": "sucesso" }, {
"orgao": "Corpo de Bombeiros", "data": "18/01/2024",
"valor": 7300.00, "status": "sucesso" }, {
"orgao": "Guarda Municipal", "data": "19/01/2024",
"valor": 3800.00, "status": "falha", "motivo":
"Sistema fora do ar" }, { "orgao": "Receita Federal", "data": "20/01/2024", "valor": 8300.00,
"status": "sucesso" }, { "orgao": "Ministério Público", "data": "21/01/2024", "valor": 9300.00,
"status": "falha", "motivo": "Recursos insuficientes"
}, { "orgao": "Defesa Civil", "data":
"22/01/2024", "valor": 4300.00, "status":
"sucesso" }, { "orgao": "Detran", "data":
"23/01/2024", "valor": 5300.00, "status":
"sucesso" }, { "orgao": "Polícia Federal",
"data": "24/01/2024", "valor": 6800.00, "status":
"falha", "motivo": "Problemas técnicos" }, {
"orgao": "Ibama", "data": "25/01/2024", "valor":
5800.00, "status": "sucesso" }, { "orgao":
"Anvisa", "data": "26/01/2024", "valor":
6300.00, "status": "sucesso" }, { "orgao":
"Inmetro", "data": "27/01/2024", "valor":
3300.00, "status": "falha", "motivo": "Dados incorretos" }, { "orgao": "Cetesb", "data":
"28/01/2024", "valor": 7300.00, "status":
"sucesso" }, { "orgao": "Susep", "data":
"29/01/2024", "valor": 8300.00, "status":
"falha","motivo":"Problemas técnicos" }, {
"orgao":"Polícia Civil","data":"30/01/2024",
"valor": 5500.00,"status":"sucesso" }, {
"orgao":"Polícia Rodoviária Federal","data":
"31/01/2024","valor": 6400.00,"status":
"falha","motivo":"Erro humano" }, {
"orgao":"Polícia Militar","data":"01/01/2024",
"valor": 4900.00,"status":"sucesso" }, {
"orgao":"Corpo de Bombeiros","data":"02/01/2024",
"valor": 7400.00,"status":"sucesso" }, {
"orgao":"Guarda Municipal","data":"03/01/2024",
"valor": 3900.00,"status":"falha","motivo":
"Sistema fora do ar" }, {"orgao":"Receita Federal","data":"04/01/2024","valor": 8400.00,
"status":"sucesso" }, {"orgao":"Ministério Público","data":"05/01/2024","valor": 9400.00,
"status":"falha","motivo":"Recursos insuficientes"
}, {"orgao":"Defesa Civil","data":
"06/01/2024","valor": 4400.00,"status":
"sucesso" }, {"orgao":"Detran","data":
"07/01/2024","valor": 5400.00,"status":
"sucesso" }, {"orgao":"Polícia Federal",
"data":"08/01/2024","valor": 6900.00,"status":
"falha","motivo":"Problemas técnicos" }, {
"orgao":"Ibama","data":"09/01/2024","valor":
5900.00,"status":"sucesso" }, {"orgao":
"Anvisa","data":"10/01/2024","valor":
6400.00,"status":"sucesso" }, {"orgao":
"Inmetro","data":"11/01/2024","valor":
3400.00,"status":"falha","motivo":"Dados incorretos" }, {"orgao":"Cetesb","data":
"12/01/2024","valor": 7400.00,"status":
"sucesso" }, {"orgao":"Susep","data":
"13/01/2024","valor": 8400.00,"status":
"falha","motivo":"Problemas técnicos" }, {
"orgao":"Polícia Civil","data":"14/01/2024",
"valor": 5600.00,"status":"sucesso" }, {
"orgao":"Polícia Rodoviária Federal","data":
"15/01/2024","valor": 6500.00,"status":
"falha","motivo":"Erro humano" }, {
"orgao":"Polícia Militar","data":"16/01/2024",
"valor": 5000.00,"status":"sucesso" }, {
"orgao":"Corpo de Bombeiros","data":"17/01/2024",
"valor": 7500.00,"status":"sucesso" }, {
"orgao":"Guarda Municipal","data":"18/01/2024",
"valor": 4000.00,"status":"falha","motivo":
"Sistema fora do ar" }, {"orgao":"Receita Federal","data":"19/01/2024","valor": 8500.00,
"status":"sucesso" }, {"orgao":"Ministério Público","data":"20/01/2024","valor": 9500.00,
"status":"falha","motivo":"Recursos insuficientes"
}, {"orgao":"Defesa Civil","data":
"21/01/2024","valor": 4500.00,"status":
"sucesso" }, {"orgao":"Detran","data":
"22/01/2024","valor": 5500.00,"status":
"sucesso" }, {"orgao":"Polícia Federal",
"data":"23/01/2024","valor": 7000.00,"status":
"falha","motivo":"Problemas técnicos" }, {
"orgao":"Ibama","data":"24/01/2024","valor":
6000.00,"status":"sucesso" }, {"orgao":
"Anvisa","data":"25/01/2024","valor":
6500.00,"status":"sucesso" }, {"orgao":
"Inmetro","data":"26/01/2024","valor":
3500.00,"status":"falha","motivo":"Dados incorretos" }, {"orgao":"Cetesb","data":
"27/01/2024","valor": 7500.00,"status":
"sucesso" }, {"orgao":"Susep","data":
"28/01/2024","valor": 8500.00,"status":
"falha","motivo":"Problemas técnicos" }, {
"orgao":"Polícia Civil","data":"29/01/2024",
"valor": 5700.00,"status":"sucesso" }, {
"orgao":"Polícia Rodoviária Federal","data":
"30/01/2024","valor": 6600.00,"status":
"falha","motivo":"Erro humano" }, {
"orgao":"Polícia Militar","data":"31/01/2024",
"valor": 5100.00,"status":"sucesso" }]

//historia 1
//console.log(`Quantidade total de repasses: ${data.length}`)

//historia 2
function separandoFalhasSucessos(info) {
    let falhas = []
    let sucessos = []

    for (let i = 0; i < info.length; i++) {
        if (info[i].status == 'falha') {
            falhas.push(info[i])
        }
        else {
            sucessos.push(info[i])
        }
    }

    const total = [falhas, sucessos]

    return total
}

function repassesGov(repasses) {

    //armazenando o total de órgãos
    let orgaos = []
    for (let i = 0; i < repasses.length; i++) {
        if (orgaos.includes(repasses[i].orgao) == false) {
            orgaos.push(repasses[i].orgao)
        }
    }

    //valor total dos repasses (bem-sucedidos ou não, depende do argumento da função)
    let valorTotalRepasses = 0
    for (let i = 0; i < repasses.length; i++) {
            valorTotalRepasses += repasses[i].valor
    }

    let repassesPorOrgao = []
    for (let i = 0; i < orgaos.length; i++) {
        let valorRepassesOrgaoAtual = 0
        let quantidadeRepassesOrgaoAtual = 0
        for (let j = 0; j < repasses.length; j++) {
            if (repasses[j].orgao == orgaos[i]) {
                valorRepassesOrgaoAtual += repasses[j].valor
                quantidadeRepassesOrgaoAtual++
            }

        }

        repassesPorOrgao.push([orgaos[i], valorRepassesOrgaoAtual, quantidadeRepassesOrgaoAtual])
    }

    const total = [valorTotalRepasses, repassesPorOrgao]

    return total

}

//utilizar apenas para os repasses que resultarem em falha
function repassesFalhaMotivo(todasAsFalhas) {
    let motivos = []
    for (let i = 0; i < todasAsFalhas.length; i++) {
        if (motivos.includes(todasAsFalhas[i].motivo) == false) {
            motivos.push(todasAsFalhas[i].motivo)
        }
    }

    let numeroFalhasMotivo = []
    for (let i = 0; i < motivos.length; i++) {
        let falhasMotivoAtual = 0
        let valorTotalMotivoFalha = 0
        
        for (let j = 0; j < todasAsFalhas.length; j++) {
            if (motivos[i] == todasAsFalhas[j].motivo) {
                falhasMotivoAtual++
                valorTotalMotivoFalha += todasAsFalhas[j].valor
            }
        }

        numeroFalhasMotivo.push([motivos[i], falhasMotivoAtual, valorTotalMotivoFalha])
    }

    return numeroFalhasMotivo
}

const falhasSucessos = separandoFalhasSucessos(data)
//Historia 2 - parte 1

//Historia 2 - parte 1.1
/*console.log(`Quantidade total de repasses bem sucedidos: ${falhasSucessos[1].length}`)

//Historia 2 - parte 1.2
const sucessos = repassesGov(falhasSucessos[1])
for (let i = 0; i < sucessos[1].length; i++) {
    console.log(`Órgão: ${sucessos[1][i][0]}; Repasses bem-sucedidos: ${sucessos[1][i][2]}`)
}

//Historia 2 - parte 1.3
console.log(`Valor total de repasses bem sucedidos: ${sucessos[0]}`)

//Historia 2 - parte 1.4
let valorTotalRepassesSucessos = 0
for (let i = 0; i < sucessos[1].length; i++) {
    console.log(`Órgão: ${sucessos[1][i][0]}; Soma valores repasses bem-sucedidos: ${sucessos[1][i][1]}`)
}
*/
//Historia 2 - parte 2

//Historia 2 - parte 2.1
/*console.log(`Quantidade total de repasses mal sucedidos: ${falhasSucessos[0].length}`)

//Historia 2 - parte 2.2
const falhas = repassesGov(falhasSucessos[0])
for (let i = 0; i < falhas[1].length; i++) {
    console.log(`Órgão: ${falhas[1][i][0]}; Repasses mal-sucedidos: ${falhas[1][i][2]}`)
}

//Historia 2 - parte 2.3
const motivosFalhas = repassesFalhaMotivo(falhasSucessos[0])
for (i = 0; i < motivosFalhas.length; i++) {
    console.log(`Motivo: ${motivosFalhas[i][0]}; Número de falhas: ${motivosFalhas[i][1]}`)
}

//Historia 2 - parte 2.4
console.log(`Valor total de repasses mal-sucedidos: ${falhas[0]}`)

//Historia 2 - parte 2.5
for (let i = 0; i < falhas[1].length; i++) {
    console.log(`Órgão: ${falhas[1][i][0]}; Soma valores repasses mal-sucedidos: ${falhas[1][i][1]}`)
}

//Historia 2 - parte 2.6
for (i = 0; i < motivosFalhas.length; i++) {
    console.log(`Motivo: ${motivosFalhas[i][0]}; Valor repasses: ${motivosFalhas[i][2]}`)
}*/

//Historia 3

//Historia 3 - parte 1 e parte 2
function valoresOrdemCrescente (info) {
    let valores = []

    for (i = 0; i < info.length; i++) {
        valores.push(info[i].valor)
    }

    let valoresSorted = valores.toSorted((a, b) => a - b)
    return valoresSorted
}

let valoresOC = valoresOrdemCrescente(data)

for (i = 0; i < data.length; i++) {
    if (data[i].valor == valoresOC[valoresOC.length - 1]) {
        console.log("Dados do repasse de maior valor:")
        console.log(data[i])
    }

    if (data[i].valor == valoresOC[0]) {
        console.log("Dados do repasse de menor valor:")
        console.log(data[i])
    }
}

//Historia 3 - parte 3
function todasAsDatas (info) {
    let dates = []

    for (i = 0; i < info.length; i++) {
        dates.push(info[i].data)
    }
    
    return dates
}

let datas = todasAsDatas(data)
console.log("Datas: ")
console.log(datas)

/*function modificandoData (theDate) {
    console.log(`theDate abaixo:`)
    console.log(theDate)

    let dataSplitada = theDate.split("/")
    console.log(`Data splitada: ${dataSplitada}`)

    for (i = 0; i < dataSplitada.length; i++) {
        dataSplitada[i] = parseInt(dataSplitada[i])
    }

    console.log(`Retorno: ${dataSplitada}`)
    return dataSplitada
}*/

for (i = 0; i < datas.length; i++) {
    let dataSplitada = datas[i].split("/")

    for (j = 0; j < dataSplitada.length; j++) {
        dataSplitada[j] = parseInt(dataSplitada[j])
    }

    datas[i] = dataSplitada
}

console.log("Datas modificadas:")
console.log(datas)

let dias = []
for (i = 0; i < datas.length; i++) {
    if (dias.includes(datas[i][0]) == false) {
        dias.push(datas[i][0])
    }
}
console.log("Dias: ")
console.log(dias)

let diasRepeticoes = []
for (i = 0; i < dias.length; i++) {
    let dataAtualRepeticoes = 0
    let dataAtual = `${dias[i]}/01/2024`

    for (j = 0; j < datas.length; j++) {

        if (dias[i] == datas[j][0]) {
            dataAtualRepeticoes++
        }
    }

    diasRepeticoes.push([dataAtual, dataAtualRepeticoes])
}
console.log("Datas + repetições: ")
console.log(diasRepeticoes)

function retornaMaiorNumeroRepeticoes (diasComRepeticoes) {
    let maiorNumeroRepeticoes = 0

    for (i = 0; i < diasComRepeticoes.length; i++) {
        if (maiorNumeroRepeticoes < diasComRepeticoes[i][1]) {
            maiorNumeroRepeticoes = diasComRepeticoes[i][1]
        }
    }

    return maiorNumeroRepeticoes
}

console.log("Dias que mais se repetem:")

let maiorNumeroRepeticoesData = retornaMaiorNumeroRepeticoes(diasRepeticoes)
for (i = 0; i < diasRepeticoes.length; i++) {
    if (diasRepeticoes[i][1] == maiorNumeroRepeticoesData) {
        console.log(`Dia: ${diasRepeticoes[i][0]}; Número de repetições: ${diasRepeticoes[i][1]}`)
    }
}

//Historia 3 - parte 4
function todosOsOrgaos (info) {
    let todosOrgaosIncluindoRepeticoes = []

    for (i = 0; i < info.length; i++) {
        todosOrgaosIncluindoRepeticoes.push(info[i].orgao)
    }

    return todosOrgaosIncluindoRepeticoes
}

let todosOrgaosSorted = todosOsOrgaos(data).toSorted()
console.log(`Quantidade de órgãos: ${todosOrgaosSorted.length}`)
console.log(`Todos os orgãos (sorted): ${todosOrgaosSorted}`)

function numeroRepeticoesOrgaos (orgaos) {
    let todosOrgaos = []
    let orgaoAtual = ''
    let repeticoesOrgaoAtual = 0

    for (i = 0; i < orgaos.length; i++) {
        if (orgaoAtual != orgaos[i]) {

            todosOrgaos.push([orgaoAtual, repeticoesOrgaoAtual])
            orgaoAtual = orgaos[i]
            repeticoesOrgaoAtual = 0
        }

        if (i == orgaos.length - 1) {

            repeticoesOrgaoAtual ++
            todosOrgaos.push([orgaoAtual, repeticoesOrgaoAtual])
            orgaoAtual = orgaos[i]
            repeticoesOrgaoAtual = 0
        }

        repeticoesOrgaoAtual++

    }

    todosOrgaos.shift()
    return todosOrgaos
}

let orgaosComNumeroDeRepeticoes = numeroRepeticoesOrgaos(todosOrgaosSorted)
console.log(orgaosComNumeroDeRepeticoes)

function maiorNumeroDeRepeticoes (orgaosTratados) {
    let maiorNumero = 0

    for (i = 0; i < orgaosTratados.length; i++) {
        if (maiorNumero < orgaosTratados[i][1]) {
            maiorNumero = orgaosTratados[i][1]
        }
    }

    for (i = 0; i < orgaosTratados.length; i++) {
        if (maiorNumero == orgaosTratados[i][1]) {
            console.log(`Órgão: ${orgaosTratados[i][0]}; Número de repetições: ${orgaosTratados[i][1]}`)
        }
    }
}

console.log("Órgão(s) com mais repasses:")
maiorNumeroDeRepeticoes(orgaosComNumeroDeRepeticoes)

//Historia 3 - parte 5
function todosOsOrgaosSucesso (info) {
    let todosOrgaosSucessoIncluindoRepeticoes = []

    for (i = 0; i < info.length; i++) {
        if (info[i].status == "sucesso") {
            todosOrgaosSucessoIncluindoRepeticoes.push(info[i].orgao)
        }
    }

    return todosOrgaosSucessoIncluindoRepeticoes
}

let todosOrgaosSucessoSorted = todosOsOrgaosSucesso(data).toSorted()
console.log(`Quantidade de órgãos (sucesso): ${todosOrgaosSucessoSorted.length}`)
console.log(`Todos os orgãos sucesso (sorted): ${todosOrgaosSucessoSorted}`)

function numeroRepeticoesOrgaosSucesso (orgaos) {
    let todosOrgaosSucesso = []
    let orgaoAtual = ''
    let repeticoesSucessoOrgaoAtual = 0

    for (i = 0; i < orgaos.length; i++) {
        if (orgaoAtual != orgaos[i]) {

            todosOrgaosSucesso.push([orgaoAtual, repeticoesSucessoOrgaoAtual])
            orgaoAtual = orgaos[i]
            repeticoesSucessoOrgaoAtual = 0
        }
        
        if (i == orgaos.length - 1) {

            repeticoesSucessoOrgaoAtual ++
            todosOrgaosSucesso.push([orgaoAtual, repeticoesSucessoOrgaoAtual])
            orgaoAtual = orgaos[i]
            repeticoesSucessoOrgaoAtual = 0
        }
        repeticoesSucessoOrgaoAtual++

    }

    todosOrgaosSucesso.shift()
    return todosOrgaosSucesso
}

let orgaosSucessoComNumeroDeRepeticoes = numeroRepeticoesOrgaosSucesso(todosOrgaosSucessoSorted)
console.log(orgaosSucessoComNumeroDeRepeticoes)

console.log("Órgão(s) com mais repasses com sucesso: ")
maiorNumeroDeRepeticoes(orgaosSucessoComNumeroDeRepeticoes)

//Historia 3 - parte 6
function todosOsOrgaosFalha (info) {
    let todosOrgaosFalhaIncluindoRepeticoes = []

    for (i = 0; i < info.length; i++) {
        if (info[i].status == "falha") {
            todosOrgaosFalhaIncluindoRepeticoes.push(info[i].orgao)
        }
    }

    return todosOrgaosFalhaIncluindoRepeticoes
}

let todosOrgaosFalhasSorted = todosOsOrgaosFalha(data).toSorted()
console.log(`Quantidade de órgãos (falha): ${todosOrgaosFalhasSorted.length}`)
console.log(`Todos os orgãos falha (sorted): ${todosOrgaosFalhasSorted}`)

function numeroRepeticoesOrgaosFalha (orgaos) {
    let todosOrgaosFalha = []
    let orgaoAtual = ''
    let repeticoesFalhaOrgaoAtual = 0

    for (i = 0; i < orgaos.length; i++) {
        if (orgaoAtual != orgaos[i]) {

            todosOrgaosFalha.push([orgaoAtual, repeticoesFalhaOrgaoAtual])
            orgaoAtual = orgaos[i]
            repeticoesFalhaOrgaoAtual = 0
        }
        
        if (i == orgaos.length - 1) {

            repeticoesFalhaOrgaoAtual ++
            todosOrgaosFalha.push([orgaoAtual, repeticoesFalhaOrgaoAtual])
            orgaoAtual = orgaos[i]
            repeticoesFalhaOrgaoAtual = 0
        }
        repeticoesFalhaOrgaoAtual++

    }

    todosOrgaosFalha.shift()
    return todosOrgaosFalha
}

let orgaosFalhaComNumeroDeRepeticoes = numeroRepeticoesOrgaosFalha(todosOrgaosFalhasSorted)
console.log(orgaosFalhaComNumeroDeRepeticoes)

console.log("Órgão(s) com mais repasses com falha: ")
maiorNumeroDeRepeticoes(orgaosFalhaComNumeroDeRepeticoes)

//Historia 3 - parte 7
function todosOsMotivosFalha (info) {
    let todosMotivosFalhaIncluindoRepeticoes = []

    for (i = 0; i < info.length; i++) {
        if (info[i].motivo) {
            todosMotivosFalhaIncluindoRepeticoes.push(info[i].motivo)
        }
    }

    return todosMotivosFalhaIncluindoRepeticoes
}

let todosMotivosFalhasSorted = todosOsMotivosFalha(data).toSorted()
console.log(`Quantidade de motivos falha: ${todosMotivosFalhasSorted.length}`)
console.log(`Todos os motivos falha (sorted): ${todosMotivosFalhasSorted}`)

function numeroRepeticoesMotivosFalha (motivos) {
    let todosMotivosFalha = []
    let motivoAtual = ''
    let repeticoesMotivoAtual = 0

    for (i = 0; i < motivos.length; i++) {
        if (motivoAtual != motivos[i]) {

            todosMotivosFalha.push([motivoAtual, repeticoesMotivoAtual])
            motivoAtual = motivos[i]
            repeticoesMotivoAtual = 0
        }
        
        if (i == motivos.length - 1) {

            repeticoesMotivoAtual ++
            todosMotivosFalha.push([motivoAtual, repeticoesMotivoAtual])
            motivoAtual = motivos[i]
            repeticoesMotivoAtual = 0
        }
        repeticoesMotivoAtual++

    }

    todosMotivosFalha.shift()
    return todosMotivosFalha
}

let motivosFalhaComNumeroDeRepeticoes = numeroRepeticoesMotivosFalha(todosMotivosFalhasSorted)
console.log(motivosFalhaComNumeroDeRepeticoes)

console.log("Órgão(s) com mais motivos de falha: ")
maiorNumeroDeRepeticoes(motivosFalhaComNumeroDeRepeticoes)

//Historia 4
function repassesPorOrgao(info, org) {

    for (i = 0; i < info.length; i++) {
        if (info[i].orgao == org) {
            console.log(info[i])
        }
    }
}

repassesPorOrgao(data, 'Ministério Público')
repassesPorOrgao(data, 'Defesa Civil')

//Historia 5
const algunsDadosInvalidos = [{"orgao":"MEC","data":"01/01/2024","valor":500.00,"status"
:"sucesso"},{"orgao":"Ministério da Saúde","data":"03/01/2024","valor":750.00,"status":"sucesso"}
,{"orgao":"MEC","data":"05/01/2024","valor":1000.00,"status"
:"sucesso"},{"orgao":"Ministério da Educação","data":"08/01/2024","valor":600.00,"status":"sucesso"},{"orgao":"Ministério da Saúde","data":"10/01/2024","valor":900.00,"status":"sucesso"},{"orgao":"Ministério da Educação","data":"12/01/2024","valor":300.00,"status":"falha"
,"motivo":"dados inválidos"},{"orgao":"Ministério da Saúde","data":"15/01/2024","valor":1200.00,"status":"sucesso"
},{"orgao":"MEC","data":"17/01/2024","valor":800.00,"status"
:"falha","motivo":"falta de verba"},{"orgao":"Ministério da Educação","data":"20/01/2024","valor":400.00,"status":"falha"
,"motivo":"falta de limite"},{"orgao":"MEC","data":"22/01/2024","valor":1100.00,
"status":"falha"}]

let transacoesComProblema = []
for (i = 0; i < algunsDadosInvalidos.length; i++) {
    if ((algunsDadosInvalidos[i].status == 'falha') && (algunsDadosInvalidos[i].hasOwnProperty("motivo") == false)) {
        transacoesComProblema.push(algunsDadosInvalidos[i])
    }
}

console.log(`Problemas: ${JSON.stringify(transacoesComProblema)}`)

//Historia 6